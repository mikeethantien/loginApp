describe("formController",function(){var e,t,o;beforeEach(function(){function i(i){t=i.get("$rootScope"),e=i.get("$httpBackend");var n=i.get("$controller");o=function(){return n("formController",{$scope:t})}}module("loginApp"),i.$inject=["$injector"],inject(i)}),afterEach(function(){e.verifyNoOutstandingExpectation(),e.verifyNoOutstandingRequest()}),describe("Initialization",function(){it("Should leave email and password undefined",function(){o();expect(t.email).not.toBeDefined(),expect(t.password).not.toBeDefined()})}),describe("Authenticate",function(){it("Should pass the validation",function(){o();e.expectPOST("/authenticate",{email:"mike@mail.com",password:"12345678"}).respond(200,{message:"You have logged in successfully."}),t.email="mike@mail.com",t.password="12345678",t.submit(),e.flush(),expect(t.success).toBeTruthy(),expect(t.error).not.toBeDefined(),expect(t.message).toBe("You have logged in successfully.")}),it("Should fail the validation",function(){o();e.expectPOST("/authenticate",{email:"mike@mail.com",password:"password"}).respond(401,{message:"You have entered the incorrect password."}),t.email="mike@mail.com",t.password="password",t.submit(),e.flush(),expect(t.error).toBeTruthy(),expect(t.success).not.toBeDefined(),expect(t.message).toBe("You have entered the incorrect password.")})})});
